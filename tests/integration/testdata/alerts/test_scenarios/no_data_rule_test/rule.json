{
  "alert": "no_data_rule_test",
  "ruleType": "threshold_rule",
  "alertType": "METRIC_BASED_ALERT",
  "condition": {
    "thresholds": {
      "kind": "basic",
      "spec": [
        {
          "name": "critical",
          "target": 10,
          "matchType": "1",
          "op": "1",
          "channels": [
            "test channel"
          ],
          "targetUnit": ""
        }
      ]
    },
    "compositeQuery": {
      "queryType": "builder",
      "panelType": "graph",
      "queries": [
        {
          "type": "builder_query",
          "spec": {
            "name": "A",
            "signal": "metrics",
            "source": "",
            "stepInterval": null,
            "disabled": false,
            "filter": {
              "expression": "service = 'server'"
            },
            "having": {
              "expression": ""
            },
            "aggregations": [
              {
                "metricName": "request_total_no_data_rule_test",
                "timeAggregation": "avg",
                "spaceAggregation": "avg"
              }
            ]
          }
        }
      ]
    },
    "selectedQueryName": "A",
    "alertOnAbsent": true,
    "absentFor": 300,
    "requireMinPoints": false
  },
  "evaluation": {
    "kind": "rolling",
    "spec": {
      "evalWindow": "5m0s",
      "frequency": "1m"
    }
  },
  "labels": {},
  "annotations": {
    "description": "This alert is fired when the defined metric (current value: {{$value}}) crosses the threshold ({{$threshold}})",
    "summary": "This alert is fired when the defined metric (current value: {{$value}}) crosses the threshold ({{$threshold}})"
  },
  "notificationSettings": {
    "groupBy": [],
    "usePolicy": false,
    "renotify": {
      "enabled": false,
      "interval": "30m",
      "alertStates": []
    }
  },
  "version": "v5",
  "schemaVersion": "v2alpha1",
  "source": ""
}
