{
  "alert": "threshold_above_average",
  "ruleType": "threshold_rule",
  "alertType": "TRACES_BASED_ALERT",
  "condition": {
    "thresholds": {
      "kind": "basic",
      "spec": [
        {
          "name": "critical",
          "target": 1,
          "matchType": "3",
          "op": "1",
          "channels": [
            "test channel"
          ],
          "targetUnit": "s"
        }
      ]
    },
    "compositeQuery": {
      "queryType": "builder",
      "unit": "ns",
      "panelType": "graph",
      "queries": [
        {
          "type": "builder_query",
          "spec": {
            "name": "A",
            "signal": "traces",
            "source": "",
            "stepInterval": null,
            "disabled": false,
            "filter": {
              "expression": "http.request.path = '/order'"
            },
            "having": {
              "expression": ""
            },
            "aggregations": [
              {
                "expression": "p90(duration_nano)"
              }
            ]
          }
        }
      ]
    },
    "selectedQueryName": "A",
    "alertOnAbsent": false,
    "requireMinPoints": false
  },
  "evaluation": {
    "kind": "rolling",
    "spec": {
      "evalWindow": "5m0s",
      "frequency": "1m"
    }
  },
  "labels": {},
  "annotations": {
    "description": "This alert is fired when the defined metric (current value: {{$value}}) crosses the threshold ({{$threshold}})",
    "summary": "This alert is fired when the defined metric (current value: {{$value}}) crosses the threshold ({{$threshold}})"
  },
  "notificationSettings": {
    "groupBy": [],
    "usePolicy": false,
    "renotify": {
      "enabled": false,
      "interval": "30m",
      "alertStates": []
    }
  },
  "version": "v5",
  "schemaVersion": "v2alpha1",
  "source": ""
}
